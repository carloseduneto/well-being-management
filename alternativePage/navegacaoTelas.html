<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>App de Lorem-Ipsum ‚Äî Navega√ß√£o</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: Inter, system-ui, sans-serif;
      }
      html,
      body {
        height: 100%;
      }
      body {
        background: #f6f6f6;
        overflow: hidden;
        display: flex;
        align-items: stretch;
      }

      .app {
        position: relative;
        width: 100%;
        height: 100vh;
        overflow: hidden;
      }

      .tela {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        background: #fff;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        transform: translateX(100%);
        transition: transform 460ms cubic-bezier(0.22, 0.9, 0.33, 1);
      }

      .tela.active {
        transform: translateX(0);
      }

      h1 {
        margin-bottom: 1.25rem;
        font-size: 1.5rem;
      }
      p {
        margin-bottom: 1rem;
        color: #444;
      }

      .btn {
        background: #007bff;
        color: #fff;
        border: none;
        padding: 0.8rem 1.2rem;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1rem;
      }
      .btn.secondary {
        background: #6c757d;
      }
      .btn:active {
        transform: translateY(1px);
      }
    </style>
  </head>
  <body>
    <div class="app">
      <!-- üè† Tela Home -->
      <div id="tela-home" class="tela active">
        <h1>üè† Home</h1>
        <p>Bem-vindo ‚Äî abra o Lorem-Ipsum para ver a transi√ß√£o.</p>
        <div style="display: flex; gap: 10px">
          <button class="btn" onclick="irPara('Lorem-Ipsum')">
            Ir para Lorem-Ipsum ‚ûú
          </button>
          <button class="btn" onclick="irPara('perfil')">
            üë§ Ir para Perfil
          </button>
          <button class="btn" onclick="irPara('outraTela2')">
            outraTela2
          </button>
        </div>
      </div>

      <!-- Tela Lorem-Ipsum -->
      <div id="tela-Lorem-Ipsum" class="tela">
        <h1>Lorem-Ipsum</h1>
        <p>Aqui fica o Lorem-Ipsum em execu√ß√£o.</p>
        <div style="display: flex; gap: 10px">
          <button class="btn secondary" onclick="voltar()">‚¨Ö Voltar</button>
          <button class="btn" onclick="irPara('home')">üè† Home</button>
          <button class="btn" onclick="irPara('outraTela')">
            Ir para Outra Tela
          </button>
        </div>
      </div>



            <!-- üìÑ Outra Tela -->
      <div id="tela-outraTela2" class="tela">
        <h1>Outra Tela 2</h1>
        <p>Aqui fica outro conte√∫do qualquer.</p>
        <div style="display: flex; gap: 10px">
          <button class="btn secondary" onclick="voltar()">‚¨Ö Voltar</button>
          <button class="btn" onclick="irPara('K')">K</button>
          </button>
        </div>
      </div>




      <!-- üìÑ Outra Tela -->
      <div id="tela-outraTela" class="tela">
        <h1>Outra Tela</h1>
        <p>Aqui fica outro conte√∫do qualquer.</p>
        <div style="display: flex; gap: 10px">
          <button class="btn secondary" onclick="voltar()">‚¨Ö Voltar</button>
          <button class="btn" onclick="irPara('home')">üè† Home</button>
          <button class="btn" onclick="irPara('perfil')">
            üë§ Ir para Perfil
          </button>
        </div>
      </div>

      <!-- üë§ Nova Tela: Perfil -->
      <div id="tela-perfil" class="tela">
        <h1>üë§ Perfil</h1>
        <p>Informa√ß√µes do usu√°rio e configura√ß√µes.</p>
        <div style="display: flex; gap: 10px">
          <button class="btn secondary" onclick="voltar()">‚¨Ö Voltar</button>
          <button class="btn" onclick="irPara('home')">üè† Home</button>
          <button class="btn" onclick="irPara('w')">W</button>
        </div>
      </div>

      <!-- W -->
      <div id="tela-w" class="tela">
        <h1>W</h1>
        <p>W</p>
        <div style="display: flex; gap: 10px">
          <button class="btn secondary" onclick="voltar()">‚¨Ö Voltar</button>
          <button class="btn" onclick="irPara('home')">üè† Home</button>
          <button class="btn" onclick="irPara('Lorem-Ipsum')">
            Ir para Lorem-Ipsum
          </button>
          <button class="btn" onclick="irPara('K')">Ir para K</button>
        </div>
      </div>

      <!-- K -->
      <div id="tela-K" class="tela">
        <h1>K</h1>
        <p>K</p>
        <div style="display: flex; gap: 10px">
          <button class="btn secondary" onclick="voltar()">‚¨Ö Voltar</button>
          <button class="btn" onclick="irPara('home')">üè† Home</button>
          <button class="btn" onclick="irPara('perfil')">Ir para Perfil</button>
        </div>
      </div>
    </div>

    <script>
      const DUR = 560;
      let historico = ["home"];

      function irPara(destino) {
        const telaAtual = historico[historico.length - 1];
        if (destino === telaAtual) return;

        const atual = document.getElementById(`tela-${telaAtual}`);
        const proxima = document.getElementById(`tela-${destino}`);
        if (!proxima) {
          console.warn(`Tela '${destino}' n√£o encontrada!`);
          return;
        }

        const indiceDestino = historico.indexOf(destino);
        const indoParaFrente = indiceDestino === -1;

        if (indoParaFrente) {
          historico.push(destino);
          animarTransicao(atual, proxima, "esquerda");
        } else {
          historico = historico.slice(0, indiceDestino + 1);
          animarTransicao(atual, proxima, "direita");
        }
      }

      function voltar() {
        if (historico.length < 2) return;
        const atual = historico.pop();
        const anterior = historico[historico.length - 1];
        animarTransicao(
          document.getElementById(`tela-${atual}`),
          document.getElementById(`tela-${anterior}`),
          "direita"
        );
      }

function animarTransicao(saindo, entrando, direcao) {
  const paraEsquerda = direcao === 'esquerda';

  // üîπ 1. Garante que a tela que vai sair est√° vis√≠vel e "zerada"
  saindo.style.transition = 'none';
  saindo.style.transform = 'translateX(0)';

  // üîπ 2. Garante que a tela que vai entrar come√ßa fora da tela
  entrando.style.transition = 'none';
  entrando.style.transform = paraEsquerda
    ? 'translateX(100%)'
    : 'translateX(-100%)';
  entrando.classList.add('active');

  // üîπ 3. For√ßa o reflow antes da anima√ß√£o
  entrando.getBoundingClientRect();

  // üîπ 4. Anima ambas as telas
  requestAnimationFrame(() => {
    saindo.style.transition = `transform ${DUR}ms cubic-bezier(.22,.9,.33,1)`;
    entrando.style.transition = `transform ${DUR}ms cubic-bezier(.22,.9,.33,1)`;

    saindo.style.transform = paraEsquerda
      ? 'translateX(-100%)'
      : 'translateX(100%)';
    entrando.style.transform = 'translateX(0)';
  });

  // üîπ 5. Limpa o estado ap√≥s a anima√ß√£o
  setTimeout(() => {
    saindo.classList.remove('active');
    saindo.style.transition = '';
    saindo.style.transform = '';
    entrando.style.transition = '';
    entrando.style.transform = '';
  }, DUR + 30);
}

    </script>
  </body>
</html>
